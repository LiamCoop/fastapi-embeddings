const DICEWARE_WORDS = [
  "amber",
  "atlas",
  "aurora",
  "bison",
  "blade",
  "blossom",
  "brisk",
  "cabin",
  "canoe",
  "canyon",
  "carbon",
  "cedar",
  "cinder",
  "cobalt",
  "comet",
  "coral",
  "cypress",
  "dawn",
  "delta",
  "ember",
  "falcon",
  "fen",
  "fjord",
  "flora",
  "frost",
  "gale",
  "glade",
  "glimmer",
  "granite",
  "harbor",
  "haze",
  "hazel",
  "horizon",
  "ink",
  "iris",
  "ivory",
  "jade",
  "juniper",
  "keystone",
  "kite",
  "lagoon",
  "lark",
  "lumen",
  "maple",
  "meadow",
  "mica",
  "mist",
  "monarch",
  "nebula",
  "night",
  "north",
  "opal",
  "orbit",
  "orchid",
  "oxford",
  "pebble",
  "pine",
  "pivot",
  "plume",
  "quartz",
  "quill",
  "radar",
  "raven",
  "reef",
  "ripple",
  "river",
  "sage",
  "sail",
  "sequoia",
  "shadow",
  "signal",
  "silver",
  "sky",
  "solace",
  "spark",
  "spruce",
  "stone",
  "storm",
  "summit",
  "sunset",
  "tide",
  "timber",
  "torch",
  "trail",
  "valley",
  "velvet",
  "vertex",
  "vista",
  "vortex",
  "whisper",
  "wild",
  "willow",
  "wind",
  "winter",
  "zenith",
];

function randomIndex(max: number) {
  const array = new Uint32Array(1);
  crypto.getRandomValues(array);
  return array[0] % max;
}

export function generateDicewareName(wordCount = 3) {
  const words = Array.from({ length: wordCount }, () => {
    const idx = randomIndex(DICEWARE_WORDS.length);
    return DICEWARE_WORDS[idx];
  });

  return words.join("-");
}
